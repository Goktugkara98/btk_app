<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Test</title>
    
    <!-- Bootstrap CSS CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/quiz/quiz_screen.css') }}">
</head>
<body class="quiz-body">
    <div class="quiz-container">
        <!-- Header Section -->
        <header class="quiz-header">
            <div class="container-fluid">
                <div class="row align-items-center">
                    <div class="col-md-4">
                        <div class="quiz-info">
                            <div class="subject-breadcrumb">
                                <span class="subject" id="subject-name">--</span>
                                <span class="separator">•</span>
                                <span class="topic" id="topic-name">--</span>
                                <span class="separator">•</span>
                                <span class="difficulty" id="difficulty-badge">--</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 text-center">
                        <div class="question-counter">
                            <div class="counter-label">Soru</div>
                            <div class="counter-numbers">
                                <span class="current" id="current-question-number">1</span>
                                <span class="separator">/</span>
                                <span class="total" id="total-question-number">10</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 text-end">
                        <div class="timer-wrapper">
                            <div class="timer-widget compact">
                                <div class="timer-icon">⏱️</div>
                                <div class="timer-content">
                                    <div class="timer-label">Süre</div>
                                    <div class="timer-display" id="timer">15:30</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Navigation Section -->
        <nav class="quiz-navigation">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-12">
                        <div class="question-nav-wrapper">
                            <div class="question-nav-list" id="question-nav-list">
                                <!-- Navigation items will be generated by JavaScript -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Main Content Section -->
        <main class="quiz-main">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-12">
                        <!-- Question Container -->
                        <div class="question-wrapper" id="question-container">
                            <div class="question-content">
                                <div class="question-text-wrapper">
                                    <h2 class="question-text" id="question-text">
                                        <!-- Question text will be loaded by JavaScript -->
                                    </h2>
                                </div>
                                
                                <div class="options-wrapper" id="options-container">
                                    <!-- Options will be loaded by JavaScript -->
                                </div>
                            </div>
                        </div>

                        <!-- Loading State -->
                        <div class="loading-wrapper" id="loading-state" style="display: none;">
                            <div class="loading-spinner"></div>
                            <p class="loading-text">Sorular yükleniyor...</p>
                        </div>

                        <!-- Error State -->
                        <div class="error-wrapper" id="error-state" style="display: none;">
                            <div class="error-icon">⚠️</div>
                            <h3 class="error-title">Bir hata oluştu</h3>
                            <p class="error-message" id="error-message">Sorular yüklenirken bir hata oluştu.</p>
                            <button class="btn btn-primary retry-btn" id="retry-button">Tekrar Dene</button>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer Section -->
        <footer class="quiz-footer">
            <div class="container-fluid">
                <div class="row align-items-center">
                    <div class="footer-content">
                        <button class="btn btn-outline-primary nav-btn prev-btn" id="prev-button" disabled>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            Önceki
                        </button>
                        <div class="quiz-mode">
                            <div class="mode-label">Quiz Modu:</div>
                            <div class="mode-name" id="quiz-mode">Pratik</div>
                        </div>
                        <button class="btn btn-outline-primary nav-btn next-btn" id="next-button">
                            Sonraki
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </footer>
    </div>



    <!-- Bootstrap JS CDN -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Application Scripts -->
    <script>
        // Global configuration
        window.QUIZ_CONFIG = {
            sessionId: '{{ session_id }}',
            debug: window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1'
        };
    </script>
    
    <!-- Main Application Script -->
    <script type="importmap">
    {
        "imports": {
            "./core/EventBus": "{{ url_for('static', filename='js/quiz/core/EventBus.js') }}",
            "./core/StateManager": "{{ url_for('static', filename='js/quiz/core/StateManager.js') }}",
            "./core/QuizEngine": "{{ url_for('static', filename='js/quiz/core/QuizEngine.js') }}",
            "./services/ApiService": "{{ url_for('static', filename='js/quiz/services/ApiService.js') }}",
            "./ui/UIManager": "{{ url_for('static', filename='js/quiz/ui/UIManager.js') }}"
        }
    }
    </script>
    <script type="module" src="{{ url_for('static', filename='js/quiz/main.js') }}"></script>
</body>
</html>